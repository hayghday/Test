<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ’™ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø±Ø¬ÙˆÙ„Ø©</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-b from-blue-100 to-pink-200 min-h-screen p-6">
  <form class="max-w-xl mx-auto bg-white p-8 rounded-3xl shadow-xl space-y-6">
    <h1 class="text-2xl font-bold text-blue-600 text-center mb-4">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø±Ø¬ÙˆÙ„Ø© ğŸ’ª</h1>

    <div>
      <label class="block font-bold text-blue-700 mb-2">Ø§Ø³Ù…Ùƒ</label>
      <input type="text" id="username" required class="w-full p-3 rounded-xl border border-blue-300" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ" />
    </div>

    <div id="questions"></div>

    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-full w-full">ğŸ’¥ Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
  </form>

  <script>
    const questions = [
      "ÙƒÙŠÙ ØªØµÙ Ø«Ù‚ØªÙƒ Ø¨Ù†ÙØ³Ùƒ ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©ØŸ|A:Ø£Ù†Ø§ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø§Ù„Ù…Ø³ÙŠØ·Ø± ÙˆØ§Ù„Ù…Ø¨Ø§Ø¯Ø±|B:Ø£ÙƒÙˆÙ† ÙˆØ§Ø«Ù‚Ù‹Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©|C:Ø£ÙØ¶Ù„ Ø§Ù„Ø¨Ù‚Ø§Ø¡ ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©",
      "ÙƒÙŠÙ ØªØ±Ù‰ Ø¹Ù„Ø§Ù‚ØªÙƒ Ø¨Ø¬Ø³Ù…Ùƒ ÙˆÙ…Ø¸Ù‡Ø±ÙƒØŸ|A:ÙØ®ÙˆØ±ØŒ ÙˆØ£Ø­Ø¨ Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø¬Ø³Ù…ÙŠ|B:Ø£Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª|C:Ù„Ø§ Ø£Ù‡ØªÙ… ÙƒØ«ÙŠØ±Ù‹Ø§",
      "Ù‡Ù„ ØªØ­Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø³ÙŠØ·Ø± ÙÙŠ Ø¹Ù„Ø§Ù‚ØªÙƒ Ø§Ù„Ø¹Ø§Ø·ÙÙŠØ© Ø£Ùˆ Ø§Ù„Ø­Ù…ÙŠÙ…Ø©ØŸ|A:Ù†Ø¹Ù… Ø¯Ø§Ø¦Ù…Ù‹Ø§ØŒ Ù‡Ø°Ø§ Ø¬Ø²Ø¡ Ù…Ù† Ø±Ø¬ÙˆÙ„ØªÙŠ|B:Ø£ÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„Ø³ÙŠØ·Ø±Ø© ÙˆØ§Ù„ØªÙØ§Ù‡Ù…|C:Ø£Ø­Ø¨ Ø£Ù† Ø£ÙƒÙˆÙ† Ø§Ù„Ø·Ø±Ù Ø§Ù„Ù‡Ø§Ø¯Ø¦",
      "Ù‡Ù„ ØªØ¹ØªØ¨Ø± Ù†ÙØ³Ùƒ Ø¬Ø°Ø§Ø¨Ù‹Ø§ ÙÙŠ Ø¹ÙŠÙˆÙ† Ø§Ù„Ø¬Ù†Ø³ Ø§Ù„Ø¢Ø®Ø±ØŸ|A:Ø·Ø¨Ø¹Ù‹Ø§ØŒ Ø£Ù„Ø§Ø­Ø¸ Ù†Ø¸Ø±Ø§ØªÙ‡Ù…|B:Ø±Ø¨Ù…Ø§ØŒ Ø­Ø³Ø¨ Ø§Ù„Ø´Ø®Øµ|C:Ù„Ø§ Ø£Ù‡ØªÙ… Ø£Ùˆ Ù…Ø§ Ø£ÙÙƒØ± Ø¨Ù‡Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹",
      "Ù‡Ù„ ØªÙ‡ØªÙ… Ø¨Ø¢Ø±Ø§Ø¡ Ø´Ø±ÙŠÙƒØªÙƒ Ø¹Ù†Ùƒ ÙƒØ±Ø¬Ù„ØŸ|A:Ø·Ø¨Ø¹Ù‹Ø§ØŒ Ø£Ø­Ø¨ Ø£Ø³Ù…Ø¹ Ø±Ø£ÙŠÙ‡Ø§ ÙˆØ£Ø­Ø³Ù† Ù†ÙØ³ÙŠ|B:Ø£Ø³Ù…Ø¹ Ù„ÙƒÙ† Ù…Ø§ Ø£ØªØ£Ø«Ø± ÙƒØ«ÙŠØ±|C:Ù„Ø§ØŒ Ø£Ø¹Ø±Ù Ù†ÙØ³ÙŠ ÙˆÙ…Ø§ Ø£Ø­ØªØ§Ø¬ ØªÙ‚ÙŠÙŠÙ…",
      "ÙƒÙŠÙ ØªØµÙ Ø·Ø§Ù‚ØªÙƒ Ø§Ù„Ø¬Ø³Ø¯ÙŠØ© ÙˆØ±ØºØ¨ØªÙƒØŸ|A:Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ù‹Ø§|B:Ù…ØªÙˆØ§Ø²Ù†Ø©|C:Ø£Ø­ÙŠØ§Ù†Ù‹Ø§ ØªÙƒÙˆÙ† Ø¶Ø¹ÙŠÙØ©",
      "Ù‡Ù„ ØªÙ„Ø§Ø­Ø¸ Ø§Ù†ØªØµØ§Ø¨ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ ÙˆØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ ØµØ¨Ø§Ø­ØŸ|A:Ù†Ø¹Ù… Ø¯Ø§Ø¦Ù…Ù‹Ø§|B:ÙÙ‚Ø· Ø£Ø­ÙŠØ§Ù†Ù‹Ø§|C:Ù†Ø§Ø¯Ø±Ù‹Ø§",
      "Ù‡Ù„ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ Ø¹Ù„Ø§Ù‚Ø§Øª Ø³Ø§Ø¨Ù‚Ø© ÙˆØ§Ù†ØªÙ‡ØªØŸ|A:ÙˆØ§Ø­Ø¯Ø©|B:Ø£ÙƒØ«Ø± Ù…Ù† ÙˆØ§Ø­Ø¯Ø©|C:Ù„Ø§",
      "Ù‡Ù„ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ Ø£ÙŠ Ø¥Ø¹Ø¬Ø§Ø¨ Ø¨ÙØªØ§Ø© ÙÙŠ Ø§Ù„Ù…Ø§Ø¶ÙŠØŸ|A:Ù†Ø¹Ù…|B:Ø£ÙƒØ«Ø± Ù…Ù† ÙØªØ§Ø©|C:ÙˆÙ„Ø§ ÙˆØ§Ø­Ø¯Ø©",
      "Ù‡Ù„ ØªÙØ¶Ù„ Ù…ØªØ§Ø¨Ø¹Ø© Ù…Ø­ØªÙˆÙ‰ Ø¨Ø§Ù„ØºÙŠÙ† ÙƒÙ„ ÙØªØ±Ø© ÙˆØ¢Ø®Ø±Ù‰ØŸ|A:Ù†Ø¹Ù… Ø¯Ø§Ø¦Ù…Ù‹Ø§|B:ÙÙ‚Ø· Ø£Ø­ÙŠØ§Ù†Ù‹Ø§|C:Ù„Ø§",
      "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø¹Ù„Ø§Ù‚Ø© ÙˆÙ†Ø´Ø§Ø·Ø§Øª Ø¬Ù†Ø³ÙŠØ©ØŸ|A:Ù†Ø¹Ù…ØŒ Ù…Ø¹ Ø£Ù†Ø«Ù‰|B:Ù†Ø¹Ù…ØŒ ÙØ±Ø¯ÙŠØ©|C:Ù„Ø§",
      "ÙƒÙ… Ø·ÙˆÙ„ Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ø°ÙƒØ±ÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒØŸ|A:10~14|B:15~18|C:19~Ø£ÙƒØ«Ø±",
      "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£ØµØ¯Ù‚Ø§Ø¡ Ø£Ùˆ Ø²Ù…Ù„Ø§Ø¡ Ø¯Ø±Ø§Ø³Ø© Ø£Ùˆ Ø¹Ù…Ù„ Ù…Ù† Ø§Ù„Ø¬Ù†Ø³ Ø§Ù„Ø¢Ø®Ø±ØŸ|A:Ù†Ø¹Ù…|B:ÙƒØ§Ù† Ù„Ø¯ÙŠ Ø³Ø§Ø¨Ù‚Ù‹Ø§|C:Ù„Ø§"
    ];

    const container = document.getElementById("questions");
    questions.forEach((q, i) => {
      const [question, ...options] = q.split("|"); 
      const div = document.createElement("div");
      div.innerHTML = `<p class='mb-2 font-semibold'>${i + 1}. ${question}</p>` +
        options.map(opt => {
          const [val, text] = opt.split(":"); 
          return `<label class='block mb-1'><input type='radio' name='q${i}' value='${val}' required> ${text}</label>`;
        }).join(""); 
      container.appendChild(div);
    });

    document.querySelector("form").addEventListener("submit", function(e) {
      e.preventDefault();
      const name = document.getElementById("username").value.trim();
      const answers = document.querySelectorAll("input[type='radio']:checked");
      let score = 0;
      answers.forEach(ans => {
        if (ans.value === "A") score += 3;
        else if (ans.value === "B") score += 2;
        else if (ans.value === "C") score += 1;
      });
      const max = answers.length * 3;
      let percent = Math.round(score / max * 100);

      // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±
      fetch('/submit-result', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, score: percent, testType: 'Ø§Ù„Ø±Ø¬ÙˆÙ„Ø©' })
      }).catch(e => console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªÙŠØ¬Ø©:', e));

      window.location.href = `result.html?score=${percent}&name=${encodeURIComponent(name)}`;
    });
  </script>
</body>
</html>